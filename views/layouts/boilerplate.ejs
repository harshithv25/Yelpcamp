<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="stylesheet" href="/css/home.css" />
    <link rel="stylesheet" href="/css/show.css" />
    <link rel="stylesheet" href="/css/edit.css" />
    <link rel="stylesheet" href="/css/error.css" />
    <link rel="stylesheet" href="/css/newCamp.css" />
    <link rel="stylesheet" href="/css/navbar.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Yelpcamp</title>
  </head>

  <body onload="classDeter()">
    <%- include('../partials/navbar.ejs') %>
    <main class="container mt-5"><%- body %></main>
    <%- include('../partials/footer.ejs') %>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
      crossorigin="anonymous"
    ></script>
    <script>
      const classDeter = () => {
        if (window.screen.width <= 650) {
          if (document.querySelector("main").classList.contains("container")) {
            document.querySelector("main").classList.remove("container");
            document.querySelector(".form").parentElement.classList.remove("row");
            document.querySelector(".form").parentElement.classList.add("shrinked");
            document.querySelector(".form").classList.remove("col-6");
            document.querySelector(".form").classList.remove("offset-3");
            return;
          }
          return;
        } else {
          if (!document.querySelector("main").classList.contains("container")) {
            document.querySelector("main").classList.add("container");
            document.querySelector(".form").parentElement.classList.add("row");
            document.querySelector(".form").parentElement.classList.remove("shrinked");
            document.querySelector(".form").classList.add("col-6");
            document.querySelector(".form").classList.add("offset-3");
            return;
          }
        }
      };

      window.addEventListener("resize", (e) => {
        if (document.body.clientWidth <= 570) {
          if (document.querySelector("main").classList.contains("container")) {
            document.querySelector("main").classList.remove("container");
            document.querySelector(".form").parentElement.classList.remove("row");
            document.querySelector(".form").parentElement.classList.add("shrinked");
            document.querySelector(".form").classList.remove("col-6");
            document.querySelector(".form").classList.remove("offset-3");
            return;
          }
          return;
        } else if (!document.querySelector("main").classList.contains("container")) {
          console.log(document.querySelector("main").classList.contains("container") === false);
          document.querySelector("main").classList.add("container");
          document.querySelector(".form").parentElement.classList.add("row");
          document.querySelector(".form").parentElement.classList.remove("shrinked");
          document.querySelector("main").classList.add("container");
          document.querySelector(".form").classList.add("col-6");
          document.querySelector(".form").classList.add("offset-3");
          return;
        }
      });

      (function () {
        "use strict";
        var forms = document.querySelectorAll(".validate");
        Array.prototype.slice.call(forms).forEach(function (form) {
          form.addEventListener(
            "submit",
            function (event) {
              if (!form.checkValidity()) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add("was-validated");
            },
            false
          );
        });
      })();
    </script>
    <script src="/js/main.js"></script>
  </body>
</html>
